(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a7c4268"],{"0dc4":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"f",function(){return o}),a.d(e,"a",function(){return s}),a.d(e,"d",function(){return c}),a.d(e,"g",function(){return u}),a.d(e,"c",function(){return l});var n=a("b32d");function i(t){return Object(n["a"])({url:"/role/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/role/save",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/role/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/role/delete",method:"delete",params:{id:t}})}function c(t){return Object(n["a"])({url:"/role/menus",method:"get",params:{id:t}})}function u(t,e){return Object(n["a"])({url:"/role/update/menuList",method:"post",data:{id:t,menuList:e}})}function l(){return Object(n["a"])({url:"/role/all",method:"get"})}},"1cac":function(t,e,a){"use strict";var n=a("5ca6"),i=a.n(n);i.a},"333d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[],r=(a("c5f6"),a("d225")),o=a("b0b4"),s=a("308d"),c=a("6bb5"),u=a("4e2b"),l=a("9ab4"),d=a("60a3"),b=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)},f=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function p(t){document.documentElement.scrollTop=t,document.body.scrollTop=t}function g(){return document.documentElement.scrollTop||document.body.scrollTop}function m(t,e,a){var n=g(),i=t-n,r=20,o=0,s=void 0===e?500:e,c=function t(){o+=r;var e=b(o,n,i,s);p(e),o<s?f(t):a&&"function"===typeof a&&a()};c()}var h=function(t){function e(){return Object(r["a"])(this,e),Object(s["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"handleSizeChange",value:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&m(0,800)}},{key:"handleCurrentChange",value:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&m(0,800)}},{key:"currentPage",get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},{key:"pageSize",get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}]),e}(d["c"]);l["a"]([Object(d["b"])(Number)],h.prototype,"total",void 0),l["a"]([Object(d["b"])(Number)],h.prototype,"page",void 0),l["a"]([Object(d["b"])(Number)],h.prototype,"limit",void 0),l["a"]([Object(d["b"])(Array)],h.prototype,"pageSizes",void 0),l["a"]([Object(d["b"])(String)],h.prototype,"layout",void 0),l["a"]([Object(d["b"])(Boolean)],h.prototype,"background",void 0),l["a"]([Object(d["b"])(Boolean)],h.prototype,"autoScroll",void 0),l["a"]([Object(d["b"])(Boolean)],h.prototype,"hidden",void 0),h=l["a"]([d["a"]],h);var v=h,y=v,j=(a("1cac"),a("2877")),O=Object(j["a"])(y,n,i,!1,null,"819926be",null);e["a"]=O.exports},5154:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var n=a("d225"),i=function t(e,a){var i=e.required,r=void 0===i||i,o=e.trigger,s=void 0===o?"blur":o,c=e.message,u=void 0===c?"":c;Object(n["a"])(this,t),this.required=r,this.trigger=s,this.message=u,a&&(this.validator=a)}},"5b13":function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"f",function(){return o}),a.d(e,"b",function(){return s}),a.d(e,"c",function(){return c}),a.d(e,"a",function(){return u});var n=a("b32d");function i(t){return Object(n["a"])({url:"/menu/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/menu/save",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/menu/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/menu/delete",method:"delete",params:{id:t}})}function c(){return Object(n["a"])({url:"/menu/parent/list",method:"get"})}function u(){return Object(n["a"])({url:"/menu/all/list",method:"get"})}},"5ca6":function(t,e,a){},"70eb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"角色名称",clearable:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList(e)}},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("\n            搜索\n        ")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n            新增\n        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.data.tableLoading,expression:"data.tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.data.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"name",width:"200px",align:t.data.commonAlign}}),a("el-table-column",{attrs:{label:"备注",prop:"describe",width:"450px",align:t.data.commonAlign}}),a("el-table-column",{attrs:{label:"创建人",width:"150px",align:t.data.commonAlign},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.creatorName)+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"200px",align:t.data.commonAlign}}),a("el-table-column",{attrs:{label:"操作",align:t.data.commonAlign,"class-name":"small-padding fixed-width","min-width":"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleUpdate(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.openAssignPermissionsDialog(e.row)}}},[t._v("\n                        分配权限\n                    ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("\n                        删除\n                    ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.query.total>t.query.pageSize,expression:"query.total > query.pageSize"}],attrs:{total:t.query.total,page:t.query.page,limit:t.query.pageSize,"page-sizes":t.data.pageSizes,layout:t.data.layout},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"pageSize",e)},pagination:t.getList}}),a("el-dialog",{attrs:{visible:t.data.dialogFormVisible,title:"create"===t.data.dialogStatus?"新增":"编辑"},on:{"update:visible":function(e){return t.$set(t.data,"dialogFormVisible",e)}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{rules:t.rules,model:t.obj,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"角色名称",maxlength:"20"},model:{value:t.obj.name,callback:function(e){t.$set(t.obj,"name",e)},expression:"obj.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"key"}},[a("el-input",{attrs:{placeholder:"备注",rows:6,maxlength:"200",type:"textarea"},model:{value:t.obj.describe,callback:function(e){t.$set(t.obj,"describe",e)},expression:"obj.describe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.data.dialogStatus?t.create():t.update()}}},[t._v("\n                保存\n            ")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogAssignPermissionsVisible,title:"分配权限"},on:{"update:visible":function(e){t.dialogAssignPermissionsVisible=e}}},[a("el-tree",{ref:"tree",attrs:{props:{label:"name",children:"children"},data:t.allMenuList,"default-checked-keys":t.selectMenuList,"node-key":"id","show-checkbox":""}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogAssignPermissionsVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.assignPermissions}},[t._v("保存")])],1)],1)],1)},i=[],r=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),c=a("6bb5"),u=a("4e2b"),l=a("9ab4"),d=a("60a3"),b=a("bc3a"),f=a.n(b),p=a("333d"),g=a("ee8b"),m=a("8819"),h=function t(){Object(r["a"])(this,t),this.page=1,this.pageSize=20,this.total=0,this.name=""},v=function t(){Object(r["a"])(this,t),this.id="",this.name="",this.describe="",this.menuList=[]},y=a("0dc4"),j=a("5b13"),O=a("5154"),k=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(s["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.data=new m["a"],t.query=new h,t.obj=new v,t.dialogAssignPermissionsVisible=!1,t.selectMenuList=[],t.allMenuList=[],t.rules={name:[new O["a"]({message:"请输入角色名称"})]},t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.getList()}},{key:"getList",value:function(){var t=this;this.data.tableLoading=!0,Object(y["b"])(this.query).then(function(e){var a=e.data;t.data.list=a.rows,t.query.total=a.total,t.data.tableLoading=!1})}},{key:"handleCreate",value:function(){var t=this;this.data.dialogStatus="create",this.data.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.resetFields(),t.obj=new v})}},{key:"create",value:function(){var t=this;this.$refs.dataForm.validate(function(e){if(e){var a=t.obj,n=a.name,i=a.describe;Object(y["e"])({name:n,describe:i}).then(function(e){t.editSuccess(e.data.message)})}})}},{key:"handleUpdate",value:function(t){var e=this;this.data.dialogStatus="update",this.data.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields();var a=t.id,n=t.name,i=t.describe;e.obj={id:a,name:n,describe:i}})}},{key:"update",value:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&Object(y["f"])(t.obj).then(function(e){t.editSuccess(e.data.message)})})}},{key:"editSuccess",value:function(t){Object(g["b"])("成功",t),this.data.dialogFormVisible=!1,this.obj=new v,this.getList()}},{key:"handleDelete",value:function(t){var e=this;Object(g["a"])("删除提示","".concat(t.name,"将要被删除"),"确定","取消",function(){Object(y["a"])(t.id).then(function(t){Object(g["b"])("成功",t.data.message),e.getList()})})}},{key:"cancel",value:function(){this.data.dialogFormVisible=!1,this.obj=new v}},{key:"openAssignPermissionsDialog",value:function(t){var e=this;f.a.all([Object(j["a"])(),Object(y["d"])(t.id)]).then(f.a.spread(function(a,n){e.allMenuList=a.data,e.selectMenuList=n.data,e.dialogAssignPermissionsVisible=!0,e.obj.id=t.id}))}},{key:"assignPermissions",value:function(){var t=this;this.obj.id&&Object(y["g"])(this.obj.id,this.$refs.tree.getCheckedKeys()).then(function(e){Object(g["b"])("成功",e.data.message),t.dialogAssignPermissionsVisible=!1})}}]),e}(d["c"]);k=l["a"]([Object(d["a"])({components:{Pagination:p["a"]}})],k);var w=k,S=w,x=a("2877"),A=Object(x["a"])(S,n,i,!1,null,"6dce2f15",null);e["default"]=A.exports},8819:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var n=a("d225"),i=function t(){Object(n["a"])(this,t),this.pageSizes=[10,20,30,50],this.layout="total, sizes, prev, pager, next, jumper",this.tableLoading=!1,this.dialogFormVisible=!1,this.dialogStatus="create",this.commonAlign="center",this.labelPosition="right"}},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),r=a("79e5"),o=a("fdef"),s="["+o+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(t,e,a){var i={},s=r(function(){return!!o[t]()||c[t]()!=c}),u=i[t]=s?e(b):o[t];a&&(i[a]=u),n(n.P+n.F*s,"String",i)},b=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),r=a("2d95"),o=a("5dbc"),s=a("6a99"),c=a("79e5"),u=a("9093").f,l=a("11e9").f,d=a("86cc").f,b=a("aa77").trim,f="Number",p=n[f],g=p,m=p.prototype,h=r(a("2aeb")(m))==f,v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():b(e,3);var a,n,i,r=e.charCodeAt(0);if(43===r||45===r){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,c=e.slice(2),u=0,l=c.length;u<l;u++)if(o=c.charCodeAt(u),o<48||o>i)return NaN;return parseInt(c,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(h?c(function(){m.valueOf.call(a)}):r(a)!=f)?o(new g(y(e)),a,p):y(e)};for(var j,O=a("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;O.length>k;k++)i(g,j=O[k])&&!i(p,j)&&d(p,j,l(g,j));p.prototype=m,m.constructor=p,a("2aba")(n,f,p)}},ee8b:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return r});var n=a("5c96");function i(t,e){Object(n["Notification"])({title:t,message:e,type:"success",duration:2e3})}function r(t,e,a,i,r,o){n["MessageBox"].confirm(e,t,{confirmButtonText:a,cancelButtonText:i,type:"warning"}).then(function(){r&&r()}).catch(function(){o&&o()})}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-2a7c4268.dbe13001.js.map